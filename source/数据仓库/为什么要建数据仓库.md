# 为什么要建数据仓库

## 什么是数据仓库

从表面看`数据仓库`和普通物理表没有区别，但是数据仓库的表和业务系统场景使用的表的设计思路是完全不同的，因为它们面临的`使用场景`完全不同。

* 业务系统主要提供**业务服务**：需要根据业务的流程进行设计、拥有很强的实时、并发处理能力。
* 数据仓库主要用于**数据分析**：需要根据分析需求进行设计，例如保存历史、整合多个数据源等。

### 数据仓库的一些特点

数据仓库面向分析的场景就会有不同的需求，同时带来不同的系统设计方法，

* **保存历史**：更多数据可以获得更多的信息，并且从时间变化中可以找出规律，所以需要保留历史。比如根据以往的增速来分析当下的增速是否合理。

*  **一次查询大量数据**：分析时统计的时间范围可能是1天或者1个月等，所以导致查询量比较大。
* **整合相关数据**：我们在分析用户的交易增加时可能会想看看是否是用户访问量增加带来的，还是交易本身的转化率提升带来的，所以需要整合多个数据进行分析。
* **查询复杂**：分析场景下的查询是比较复杂的，比如先分析宏观数据，当发现问题时就需要拆分为更细的粒度来进行分析了。
* **访问数据的情况比插入、更改数据的情况多**：数据仓库一般不需要变更，放入之后因为需要分析历史、用多种角度来查询数据，所以会有很多的查询场景。



## 数据仓库为什么要分层和建模

同样是表，为什么有的是ods层、有的是公共层、有的是维度，有的是事实表呢？

## 为什么大数据要用数据仓库

## 为什么说数据湖是下一代的数据仓库

随着视频、图像、声音等信息越来越多的被采集，除了传统的结构化数据，半结构化、非结构化数据会越来越多。

* **结构化数据**：数据有固定的规则、层次、顺序，数据结构不轻易改变，如：数据库表
* **半结构化**：有规则，但是组合的顺序和层次一般不太固定，如：html文档、Json、Xml
* **非结构化**：没有固定的规则，长度等，如：视频、文档、音频、图片



数据湖第一个重要的能力是可以存储各种类型的数据，包括结构化和非机构化数据，让他可以成为企业的存储中心，达到数据仓库`整合数据`、`保存历史`的作用。





## 参考资料

* [数据建模是什么](https://mp.weixin.qq.com/s?__biz=MzU5MTU5Mjg2NA==&mid=2247484607&idx=1&sn=9776be3026a0a11bcd478d53ae35ec92&chksm=fe2de870c95a6166792968ab27e7658f753f3fa42f44d9dd8187cf06d553274bf9889bebc581&scene=21#wechat_redirect)
* [有赞数仓](https://tech.youzan.com/dw-in-youzan/)
* [结构化、半结构化、非结构化](https://www.jianshu.com/p/c6784ec816fc)
* [数据湖正演变为下一代企业数据仓库](https://time.geekbang.org/column/article/117867)
